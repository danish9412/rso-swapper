<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<div th:replace="fragments/header :: header"/>
<head>
    <title>Welcome Security with Spring Boot!</title>
</head>
<body>
<div th:replace="fragments/navigation :: navigation"/>
<h1 style="color:blue" >This is your Public Profile </h1>
<h1 style="color:blue" th:each="account :${username}"> Hello! <span th:text="${account}"></span>  </h1>

<!--<ul>
    <li th:each="account :${username}">Hello <span th:text="${account}"></span></li>
</ul>!-->

<p>Date/Time: <span id="datetime"></span></p>

<script>
    var dt = new Date();
    document.getElementById("datetime").innerHTML = dt.toLocaleString();
</script>

<form th:action="@{/upload}" method="post"  enctype="multipart/form-data" accept="image/png,image/jpeg,image/jpg">
        <label style="font-size: larger; color:blue">Profile picture</label>
        <!--<img th:each="i :${imagePath}" th:src="${i}"/>1-->
        <p>
          <!-- <img th:src="@{/profilepic}"/>!-->
           <!-- <img th:each="fu : ${fileUrl}" th:src="${fu}" height="200" width="200"/>
           th:src="${i}"
           !-->
        </p>
    <p>
        <img th:each="i :${imagePath}" th:src="${i}"/>
    </p>

    <div>
            <label >
                Upload new picture
                <input  type="file" class="manual-file-chooser width-full height-full ml-0 js-manual-file-chooser" name = "file"/>
            </label>
        </div>
        <input style="color: green" type="submit" value="Upload" />
    </form>
    <form th:action="@{/deletephoto}" method="post">
        <input style="color: crimson" type="submit" value="Delete photo" />
    </form>
    <p>
        <label style="color: blue ; font-size: larger" >About Me:</label>
        <p>
            <label style="color: crimson" th:each="am :${aboutme}" th:text="${am}"></label>
        </p>
    </p>

    <p>
        <form action="/updateaboutmebutton" method="GET">
           <!-- Update about me: <input type="text" name="aboutme" maxlength="160"/>!-->
            <input style="color: blue" type="submit" value="Update Aboutme"/>
        </form>
    </p>


<a style="color:blue" th:href="@{/}">Go to Home Page!</a>
<p>
    <form th:action="@{/logout}" method="post">
    <input type="submit" value="Sign Out"/>
    </form>
</p>
<!--<script>
    document.addEventListener("DOMContentLoaded", function(event) {
        document.querySelectorAll('img').forEach(function(img){
            img.onerror = function(){this.style.display='none';};
        })
    });
</script>!-->

<div th:replace="fragments/footer :: footer"/>

</body>

</html>

